pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
--print('hello world')

box = {}

box.sprite = 0
box.x = 0
box.y = 0



--box_x = 0
--box_y = 0
--sprite = 0
map_x = 0
map_y = 0


function move_actor(actor)
  if btnp(0)
    then actor.x -= 8
  end
  if btnp(1)
    then actor.x += 8
  end
  if btnp(2)
    then actor.y -= 8
  end
  if btnp(3)
    then actor.y += 8
  end
end


function check_location(actor)
  local x = actor.x / 8
  local y = actor.y / 8
  --here we put in the collision logic
  if mget(x + 1, y + 1) == 4
    then actor.sprite = 3
  end
end

function _draw()
 cls()
 map(0, 0, 0, 0, 16, 16)
 spr(box.sprite, box.x, box.y)
 --print('mget: '..mget(7,3), 64, 0)
 --print( solid(box_x, box_y), 64, 16)
 print('mget: '..mget(box.x / 8, box.y / 8), 32, 100 )
 --print('y: '..box.y / 8, 85, 100 )
end

function _update()
  move_actor(box) 

 check_location(box)
end
__gfx__
bbbbbbbb08080808aa0000aacccccccc999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b000000b808080800aa0aaa0c000000c999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b000000b0808080800aaa000c000000c999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b000000b8080808000aaa000c000000c999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b000000b080808080aa00aa0c000000c999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b000000b808080800a0000aac000000c999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b000000b080808080a00000ac000000c999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbb80808080aa00000acccccccc999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0001020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0001000101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000001000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000001000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000001000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000001010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
