pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
--print('hello world')



box_x = 0
box_y = 0
sprite = 0
map_x = 0
map_y = 0


function check_location(x, y)
  if mget(map_x, map_y) == 4 or mget(map_x, map_y) == 1
   then sprite = 3 
  elseif mget(box_x, box_y) == 0
   then sprite = 0
  end
end
function _draw()
 cls()
 map(0, 0, 0, 0, 16, 16)
 spr(sprite, box_x, box_y)
 print('mget: '..mget(7,3), 64, 0)
 --print( solid(box_x, box_y), 64, 16)
 print('map x: '..map_x, 32, 100 )
 print('map y: '..map_y, 85, 100 )
end

function _update()
 if btnp(0) 
  then  box_x -= 8 
    map_x -= 1 
 end 
 if btnp(1) 
  then box_x += 8
  map_x += 1 
 end
 if btnp(2) 
  then box_y -= 8
  map_y -= 1 
 end
 if btnp(3) 
  then box_y += 8
  map_y += 1 
 end
 check_location(box_x, box_y)
 --print( solid(0, 0))
end
__gfx__
bbbbbbbb08080808aa0000aacccccccc999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b000000b808080800aa0aaa0c000000c999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b000000b0808080800aaa000c000000c999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b000000b8080808000aaa000c000000c999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b000000b080808080aa00aa0c000000c999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b000000b808080800a0000aac000000c999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b000000b080808080a00000ac000000c999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbb80808080aa00000acccccccc999999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0001020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0001000101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000001000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000001000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000001000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000001010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
